

public class HashTableLP {

	private int capacity;						   	// number of buckets
	private String[] bucket;						// buckets
	private int size;							    	//current number of elements in hash map
	
	/**
	 * Constructor
	 */
	public HashTableLP(int capacity){			
		this.capacity = capacity;
		bucket = new String[capacity];
		size = 0;
	}
	
	/**
	 * Returns the current number of elements in hash map
	 */
	public int size(){
		return size;
	}
	
	/**
	 * Returns true is hash map is empty, false otherwise
	 */
	public boolean isEmpty(){
		return size == 0;
	}
	
	/**
	 * returns hash code for String s
	 * hashing options: 0 - addHash, 1 - polynomialHash, anything else - BPHash
	 */
	private int hash (String s, int option){
		if (option == 0)
			return addHash(s);
		else if (option == 1) 
			return polynomialHash(s);
		else return BPHash(s);
	}
	
	/**
	 * returns hash code for String s 
	 * hash function: add
	 */
	private int addHash(String s){
		int h = 0;
		for (int i = 0; i < s.length(); i++) h += s.charAt(i);
		return h % capacity;
	}
	
	/**
	 * returns hash code for String s 
	 * hash function: polynomial
	 */
	private int polynomialHash(String s){
		int h = 0;
		for (int i = 0; i < s.length(); i++) 
			h = h * 31 + 17 * s.charAt(i);
		return h % capacity;
	}
	
	/**
	 * returns hash code for String s 
	 * hash function: BP
	 */
	private int BPHash (String s){
		int h = 0;
		for (int i = 0; i < s.length(); i++) 
			h = h<<7 ^ s.charAt(i);
		return h % capacity;
	}

	/**
	 * inserts a new element in the hash map if it is not full
	 */
	public void insert (String s, int option){
		if (size == capacity)
			System.out.println("Memory full");
		else{
			int step = 0;
			while (bucket[(hash(s,option) + step) % capacity] != null)
				step++;
			bucket[hash(s,option) + step] = s;	
			size++;
			}
	}

	
	/**
	 * returns position of an element in the hash map or -1 if element nonexistent 
	 */
	private int findPosition(String s, int option){
		if (this.isEmpty()) 
			return -1;
		else{
			for (int step = 0; step < capacity; step++)
				if (bucket[(hash(s,option) + step) % capacity].equals(s))
					return (hash(s,option) + step) % capacity;
			return -1;
		}
	}
	/**
	 * returns true if element is in the hash map, false otherwise
	 */
	public boolean find(String s, int option){
		return findPosition(s, option) != -1;
	}
	
	/**
	 * removes the element s if it is in the hash map
	 */
	public void remove(String s, int option){
		int position = findPosition(s, option);
		if (position == -1) 
			System.out.println("Item does not exist.");
		else {
			bucket[position] = null;
			size--;
		}
		
	}
	
	
	
	
}
