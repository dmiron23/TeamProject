

import java.util.ArrayList;


public class HashTableSC {

	private int capacity;							         	// number of buckets
	private ArrayList<String>[] bucket;					// buckets, each bucket is an ArrayList<String>
	private int size;							           		//current number of elements in hash map


	/**
	 * Constructor
	 */
	public HashTableSC(int capacity){
		this.capacity = capacity;
		for(int i = 0; i< capacity; i++)
			bucket[i] = new ArrayList<String>();
		size = 0;
	}
	
	/**
	 * Returns the current number of elements in hash map
	 */
	public int size(){
		return size;
	}

	/**
	 * Returns true is hash map is empty, false otherwise
	 */
	public boolean isEmpty(){
		return size == 0;
	}
	
	/**
	 * returns hash code for String s
	 * hashing options: 0 - addHash, 1 - polynomialHash, anything else - BPHash
	 */
	private int hash (String s, int option){
		if (option == 0)
			return addHash(s);
		else if (option == 1) 
			return polynomialHash(s);
		else return BPHash(s);
	}
	
	/**
	 * returns hash code for String s 
	 * hash function: add
	 */
	private int addHash(String s){
		int h = 0;
		for (int i = 0; i < s.length(); i++) h += s.charAt(i);
		return h % capacity;
	}
	
	/**
	 * returns hash code for String s 
	 * hash function: polynomial
	 */
	private int polynomialHash(String s){
		int h = 0;
		for (int i = 0; i < s.length(); i++) 
			h = h * 31 + 17 * s.charAt(i);
		return h % capacity;
	}
	
	/**
	 * returns hash code for String s 
	 * hash function: BP
	 */
	private int BPHash (String s){
		int h = 0;
		for (int i = 0; i < s.length(); i++) 
			h = h<<7 ^ s.charAt(i);
		return h % capacity;
	}

	/**
	 * inserts a new element in the hash map. Note: there is no limit
	 */
	public void insert (String s, int option){
		int key = hash(s,option);
		if (bucket[key].contains(s))
			System.out.println("Object exists");
		else
			{bucket[key].add(s);
			size++;
			}
	}

	/**
	 * returns true if element is in the hash map, false otherwise
	 */
	public boolean find(String s, int option){
		int key = hash(s,option);
		return bucket[key].contains(s);
	}
	
	/**
	 * removes the element s if it is in the hash map
	 */
	public void remove(String s, int option){
		int key = hash(s, option);
		if (bucket[key].remove(s) != true) 
			System.out.println("Item does not exist.");
	}
		
}
